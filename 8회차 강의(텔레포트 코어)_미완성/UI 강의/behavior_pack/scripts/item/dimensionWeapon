import { EntityEquippableComponent, EquipmentSlot, ItemStack, Player, world } from "@minecraft/server";


export class dimensionWeapon{
    private equipComp: EntityEquippableComponent;
    private itemStack: ItemStack;
    private energy: number;
    private maxEnergy: number;
    constructor(player: Player){
        this.equipComp = player.getComponent("minecraft:equippable") as EntityEquippableComponent;
        this.itemStack = this.equipComp.getEquipment(EquipmentSlot.Mainhand)!
        if(!(this.itemStack)!.getLore()) {
            this.equipComp.setEquipment(EquipmentSlot.Mainhand, this.setLore(this.itemStack));
        }
        this.energy = parseInt(this.itemStack.getLore()[0]);
        this.maxEnergy = parseInt(this.itemStack.getLore()[1]);
    }

    private setLore(itemStack: ItemStack): ItemStack {
        switch(itemStack.typeId){
            case "watts:dimension_knife":
                itemStack.setLore(["100", "100", "x -", "y -", "z -", "skill -"]);
                break;
            case "watts:dimension_sword":
                itemStack.setLore(["220", "220", "x -", "y -", "z -", "skill -"]);
                break;
        }
        this.itemStack = itemStack;
        return itemStack;
    }

    public static useItem(player: Player){
        
    }
}